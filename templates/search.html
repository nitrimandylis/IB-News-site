{% extends "base.html" %}

{% block title %}Search Results for "{{ query }}"{% endblock %}

{% block content %}
<div class="container search-page-container">
    <header class="search-header">
        <h1>Search Results</h1>
        {% if query %}
        <p>Showing results for: <strong>"{{ query }}"</strong></p>
        {% endif %}
    </header>

    <div class="search-results-grid">
        <div class="article-grid">
            {% if articles %}
                {% for article in articles %}
                <a href="{{ url_for('article', article_id=article.id) }}" class="article-card">
                    <div class="card-image">
                        {% if article.has_image %}
                            <img src="{{ url_for('get_image', article_id=article.id) }}" alt="{{ article.title }}">
                        {% elif article.image_url %}
                            <img src="{{ article.image_url }}" alt="{{ article.title }}">
                        {% else %}
                            <div style="background: linear-gradient(135deg, #EDEAE4 0%, #E0DDD5 100%); width: 100%; height: 100%;"></div>
                        {% endif %}
                    </div>
                    <div class="card-content">
                        {% if article.tags %}
                        <div>
                            {% for tag in article.tags %}
                                <span class="card-category {{ tag | lower }}">{{ tag }}</span>
                            {% endfor %}
                        </div>
                        {% endif %}
                        <h3>{{ article.title }}</h3>
                        <p class="card-meta">By {{ article.author }} | {{ article.created_at.strftime('%B %d, %Y') }}</p>
                    </div>
                </a>
                {% endfor %}
            {% else %}
                <div class="no-results">
                    <h2>No articles found.</h2>
                    <p>Try a different search query or check back later.</p>
                </div>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}