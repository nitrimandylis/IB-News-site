{% extends "base.html" %}
{% block title %}{{ article.title }}{% endblock %}

{% block content %}
<article class="article-page">
    <header class="article-header container">
        <div class="article-header-content">
            {% if article.tags %}
            <div class="article-tags">
                {% for tag in article.tags %}
                    <span class="category-label" style="background-color: {{ tag | get_background_color }}; color: {{ tag | get_text_color }};">{{ tag }}</span>
                {% endfor %}
            </div>
            {% endif %}
            <h1>{{ article.title }}</h1>
            <p class="article-meta">By {{ article.author }} | Published on {{ article.created_at.strftime('%B %d, %Y') }}</p>
        </div>
    </header>

    {% if article.has_image or article.image_url %}
    <figure class="article-figure">
        {% if article.has_image %}
            <img src="{{ url_for('get_image', article_id=article.id) }}" alt="{{ article.title }}">
        {% elif article.image_url %}
            <img src="{{ article.image_url }}" alt="{{ article.title }}">
        {% endif %}
    </figure>
    {% endif %}

    <div class="article-body container">
        {{ article.content | safe }}
    </div>
</article>
{% endblock %}